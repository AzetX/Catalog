(this.webpackJsonpcatalog=this.webpackJsonpcatalog||[]).push([[0],{32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),s=n(7),i=n.n(s),o=(n(32),n(19)),l=n.n(o),u=n(21),d=n(3),j={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#FFF",padding:"150px",zIndex:1e3},b={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function O(e){var t=e.username,n=e.setNameValue;return Object(c.jsxs)("div",{className:"username",children:[Object(c.jsx)("input",{type:"text",placeholder:"Full name...",id:"inputUsername",onChange:function(e){return n(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"inputUsername",style:{color:t?"green":"red"},children:t?"\u2714":"\u2716"})]})}function h(e){var t=e.dateOfBirth,n=e.setDateValue;return Object(c.jsxs)("div",{className:"birthday",children:[Object(c.jsx)("input",{type:"Date",id:"inputBirthday",onChange:function(e){return n(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"inputBirthday",style:{color:t?"green":"red"},children:t?"\u2714":"\u2716"})]})}function p(e){var t=e.password,n=e.setPassValue;return Object(c.jsxs)("div",{className:"userPassword",children:[Object(c.jsx)("input",{type:"password",id:"inputPassword",placeholder:"Password...",onChange:function(e){return n(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"inputPassword",style:{color:t?"green":"red"},children:t?"\u2714":"\u2716"})]})}function f(e){var t=e.mail,n=e.setMailValue;return Object(c.jsxs)("div",{className:"userEmail",children:[Object(c.jsx)("input",{type:"email",id:"inputEmail",placeholder:"E-mail...",onChange:function(e){return n(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"inputEmail",style:{color:t?"green":"red"},children:t?"\u2714":"\u2716"})]})}function m(e){var t=e.open,n=e.children,r=e.onClose,s=Object(a.useState)(""),o=Object(d.a)(s,2),l=o[0],u=o[1],m=Object(a.useState)(""),v=Object(d.a)(m,2),x=v[0],g=v[1],k=Object(a.useState)(""),N=Object(d.a)(k,2),B=N[0],C=N[1],P=Object(a.useState)(""),S=Object(d.a)(P,2),y=S[0],F=S[1];if(!t)return null;var w=(new Date).toLocaleDateString("RU").split(".").reverse().join("-"),E=l.length>"",_=B>""&&B<=w,D=x.length>6&&x.length>"",V=!![".com",".ru",".net"].some((function(e){return!y.startsWith("@")&&y.includes("@")&&y.endsWith(e)&&!y.endsWith("@"+e)}))&&y.length>"";return i.a.createPortal(Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{style:b,onClick:r}),Object(c.jsx)("div",{style:j,children:Object(c.jsxs)("div",{className:"contentForm",children:[Object(c.jsx)("h1",{className:"titleFrom",children:"Form registration"}),Object(c.jsx)(O,{setNameValue:u,username:E}),Object(c.jsx)(h,{setDateValue:C,dateOfBirth:_}),Object(c.jsx)(p,{setPassValue:g,password:D}),Object(c.jsx)(f,{setMailValue:F,mail:V}),Object(c.jsx)("button",{onClick:function(){if(E&&_&&D&&V)return u(""),g(""),C(""),F(""),r()},className:"registrationButton",children:"Follow"}),Object(c.jsx)("button",{onClick:r,className:"registrationButton",children:"Close"}),Object(c.jsx)("div",{children:n})]})})]}),document.getElementById("portal"))}var v=n(10),x="BASKET_ADD",g="REMOVE_FROM_BASKET";function k(e,t){return{type:x,payload:e,checked:t}}function N(e,t){return{type:g,payload:e,checked:t}}var B={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"50px",maxHeight:"100vh",overflow:"auto",zIndex:1e3},C={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function P(e){var t=e.product,n=e.deleteProductsFromBasket,r=Object(a.useState)(t),s=Object(d.a)(r,2),i=(s[0],s[1]);return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsxs)("div",{className:"beer-name",children:[" ",t.name," "]}),Object(c.jsxs)("div",{className:"beer-img",children:[" ",Object(c.jsx)("img",{src:t.image_url})," "]}),Object(c.jsxs)("div",{className:"descr",children:[" ",t.description," "]}),Object(c.jsx)("button",{className:"removeFromBasket",onClick:function(){n(t),i(t)},children:"Remove"})]})}var S={addToBasket:k,deleteProductsFromBasket:N},y=Object(v.b)((function(e){return{basket:e.productsBasket.basket,checked:e.productsBasket.checked}}),S)((function(e){var t=e.open,n=e.onCloseBasket,a=e.deleteProductsFromBasket,r=e.basket,s=e.checked;return t?i.a.createPortal(Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{style:C,onClick:n}),Object(c.jsxs)("div",{style:B,children:[Object(c.jsx)("div",{className:"catalog",children:r.map((function(e){return Object(c.jsx)(P,{product:e,deleteProductsFromBasket:a,checked:s},e.id)}))}),Object(c.jsx)("button",{onClick:n,className:"closeBasket",children:"Close"})]})]}),document.getElementById("portal-basket")):null})),F=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)("button",{className:"btn",onClick:function(){return l(!0)},children:"Basket"}),Object(c.jsx)(y,{open:o,onCloseBasket:function(){return l(!1)}}),Object(c.jsx)("button",{className:"btn",onClick:function(){return r(!0)},children:"Registration"}),Object(c.jsx)(m,{open:n,onClose:function(){return r(!1)}})]})};function w(e){e.products;var t=e.currInput,n=e.findProduct,a=e.setValue;return Object(c.jsx)("div",{className:"search-product",children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),t.trim()&&a("")},children:Object(c.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:function(e){n(e.target.value)}})})})}function E(e){var t=e.filter,n=e.paginate,a=e.setValue;return Object(c.jsxs)("div",{className:"sorting-alco alco-item",children:[Object(c.jsx)("div",{className:"all-beers",onClick:function(e){t("All"),n(1),a("")},children:" All "}),Object(c.jsx)("div",{className:"weak-beers",onClick:function(e){t("Weak"),n(1),a("")},children:" 0% - 4.5% "}),Object(c.jsx)("div",{className:"middle-beers",onClick:function(e){t("Middle"),n(1),a("")},children:" 4.6% - 7.5% "}),Object(c.jsx)("div",{className:"strong-beers",onClick:function(e){t("Strong"),n(1),a("")},children:" 7.6% - 50% "})]})}var _=n(56),D={addToBasket:k,deleteProductsFromBasket:N},V=Object(v.b)((function(e){return{productsBasket:e.productsBasket.basket,checked:e.productsBasket.checked}}),D)((function(e){var t=e.product,n=e.addToBasket,r=e.deleteProductsFromBasket,s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(c.jsx)("div",{children:Object(c.jsx)(_.a,{checked:o,onChange:function(e){!0===e.target.checked?n(t):r(t),l(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}})})}));function I(e){var t=e.product;return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsxs)("div",{className:"beer-name",children:[" ",t.name," "]}),Object(c.jsx)("div",{className:"beer-img",children:Object(c.jsx)("img",{src:t.image_url})}),Object(c.jsxs)("div",{className:"descr",children:[" ",t.description," "]}),Object(c.jsxs)("div",{className:"addToBasket",children:["Add to basket ",Object(c.jsx)(V,{product:t})]})]})}function T(e){for(var t=e.findBeer,n=Object(a.useState)(1),r=Object(d.a)(n,1)[0],s=Object(a.useState)(6),i=Object(d.a)(s,1)[0],o=r*i,l=o-i,u=t.slice(l,o),j=[],b=1;b<=Math.ceil(u.length/i);b++)j.push(b);return Object(c.jsx)("div",{className:"catalog",children:u.map((function(e){return Object(c.jsx)(I,{product:e},e.id)}))})}function A(e){var t=e.productsPagiante,n=e.value,a=e.findBeer;return""!=n?Object(c.jsx)(T,{findBeer:a}):Object(c.jsx)("div",{className:"catalog",children:t.map((function(e){return Object(c.jsx)(I,{product:e},e.id)}))})}var M=function(e){var t=e.productsPagiante,n=e.productsFind,a=e.loading,r=e.value;if(a)return Object(c.jsx)("div",{children:"LOADING..."});var s=n.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}));return Object(c.jsx)(A,{productsPagiante:t,value:r,findBeer:s})};function L(e){var t=e.paginate,n=e.page;return Object(c.jsx)("li",{children:Object(c.jsxs)("a",{onClick:function(e){t(n),function(e){e.preventDefault()}(e)},href:"!#",className:"page-link",children:[" ",n," "]})})}function R(e){for(var t=e.productsPerPage,n=e.totalPosts,a=e.paginate,r=e.value,s=[],i=1;i<=Math.ceil(n/t);i++)s.push(i);var o=s.length>=1&&""!=r?s.filter((function(e){return 1===e})):s;return Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{className:"pagination",children:o.map((function(e){return Object(c.jsx)(L,{className:"page-beer",paginate:a,page:e,value:r},e)}))})})}var U=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],j=i[1],b=Object(a.useState)(1),O=Object(d.a)(b,2),h=O[0],p=O[1],f=Object(a.useState)(6),m=Object(d.a)(f,2),v=m[0],x=m[1],g=Object(a.useState)("All"),k=Object(d.a)(g,2),N=k[0],B=k[1],C=Object(a.useState)(""),P=Object(d.a)(C,2),S=P[0],y=P[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fetch("https://api.punkapi.com/v2/beers");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n),j(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var _=function(){if("All"===N){var e=h*v,t=e-v;return[n.slice(t,e),n]}if("Weak"===N){var c=n.filter((function(e){return e.abv<=4.5})),a=h*v,r=a-v;return[c.slice(r,a),c]}if("Middle"===N){var s=n.filter((function(e){return e.abv>4.5&&e.abv<=7.5})),i=h*v,o=i-v;return[s.slice(o,i),s]}if("Strong"===N){var l=n.filter((function(e){return e.abv>7.5&&e.abv<=50})),u=h*v,d=u-v;return[l.slice(d,u),l]}},D=function(e){p(e)};return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"header",children:Object(c.jsx)(F,{})}),Object(c.jsxs)("div",{className:"main",children:[Object(c.jsx)(w,{products:_()[1],currInput:S,findProduct:function(e){y(e)},setValue:y,setProductsPerPage:x}),Object(c.jsx)(E,{filter:function(e){B(e)},paginate:D,setValue:y}),Object(c.jsx)(M,{productsPagiante:_()[0],productsFind:_()[1],loading:o,value:S,paginate:D}),Object(c.jsx)(R,{productsPerPage:v,totalPosts:_()[1].length,paginate:D,value:S})]})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},z=n(8),X=n(15),J={basket:[],checked:!1},K=Object(z.b)({productsBasket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(X.a)(Object(X.a)({},e),{},{basket:e.basket.concat([t.payload]),checked:!0});case g:return Object(X.a)(Object(X.a)({},e),{},{basket:e.basket.filter((function(e){return t.payload!==e})),checked:!1});default:return e}}}),G=Object(z.d)(K,Object(z.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),H=Object(c.jsx)(v.a,{store:G,children:Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(U,{})})});i.a.render(H,document.getElementById("root")),W()}},[[39,1,2]]]);
//# sourceMappingURL=main.f1e45b8b.chunk.js.map